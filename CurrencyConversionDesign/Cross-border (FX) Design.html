<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Cross-border (FX) Design | System Integrator (SI) Toolkit</title><meta name="description" content="Everything you need to know about Mojaloop System Integration">
    <link rel="preload" href="/system-integrator-toolkit/assets/style-sMj2ovsq.css" as="style"><link rel="stylesheet" href="/system-integrator-toolkit/assets/style-sMj2ovsq.css">
    <link rel="modulepreload" href="/system-integrator-toolkit/assets/app-B4RDuWFj.js"><link rel="modulepreload" href="/system-integrator-toolkit/assets/Cross-border (FX) Design.html-CZi--udf.js">
    <link rel="prefetch" href="/system-integrator-toolkit/assets/index.html-BNnF34Zs.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/Discovery.html-B9VxVusz.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/P2P.html-HUvRlPSL.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/index.html-Bdn6Gvcu.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/BusinessComercial.html-CcAd-dr1.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/BusinessOperations.html-ChZGyFeW.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/CoreConnectorBuildingGuide.html-D213JLI7.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/CoreConnectorTemplate.html-CtGpjoxA.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/CoreConnectorTestingHarness.html-DjRSteYf.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/DfspGuide.html-e2yPW0tE.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/IIPSDesignPatterns.html-CONXwlNS.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/Introduction.html-DX4OAPgA.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/LiquidityDesign.html-aZ_FkYcJ.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/MojaloopConnector.html-DNdQQtRm.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/PM4ML_TransferOverview.html-CpoxYXCo.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/PaymentManager.html-JYK3BUwp.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/index.html-CAgu6j_N.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/TechnicalIntegration.html-B4e_MO9n.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/404.html-jF-P4ZQ9.js" as="script"><link rel="prefetch" href="/system-integrator-toolkit/assets/setupDevtools-7MC2TMWH-C0gJHLuK.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container no-sidebar external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/system-integrator-toolkit/"><img class="vp-site-logo" src="https://www.infitx.com/wp-content/uploads/2022/11/cropped-INFITX-Icon-White-Cropped-270x270.png" alt="System Integrator (SI) Toolkit"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">System Integrator (SI) Toolkit</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/" aria-label="Toolkit"><!---->Toolkit<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/md-docs/Introduction.html" aria-label="Introduction"><!---->Introduction<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/md-docs/BusinessComercial.html" aria-label="Management"><!---->Management<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/md-docs/LiquidityDesign.html" aria-label="Financial Operations"><!---->Financial Operations<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/md-docs/TechnicalIntegration.html" aria-label="Technical Integration Guide"><!---->Technical Integration Guide<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/" aria-label="Toolkit"><!---->Toolkit<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/md-docs/Introduction.html" aria-label="Introduction"><!---->Introduction<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/md-docs/BusinessComercial.html" aria-label="Management"><!---->Management<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/md-docs/LiquidityDesign.html" aria-label="Financial Operations"><!---->Financial Operations<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/system-integrator-toolkit/md-docs/TechnicalIntegration.html" aria-label="Technical Integration Guide"><!---->Technical Integration Guide<!----></a></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="cross-border-fx-design" tabindex="-1"><a class="header-anchor" href="#cross-border-fx-design"><span>Cross-border (FX) Design</span></a></h1><p>The Mojaloop currency conversion functional implementation includes support for Payer DFSP currency conversion. In this scenario, it is the Payer DFSP that comes to an agreement with the foreign exchange provider, to provide another currency liquidity in order to fund the transfer. There are two variation of the implementation.</p><ul><li>Sending funds from a local currency</li><li>Making a payment in a foreign currency</li></ul><p>The difference between these use case concerns the amount Type that is specified when making the transfer.</p><h2 id="sending-funds-to-an-account-in-another-currency" tabindex="-1"><a class="header-anchor" href="#sending-funds-to-an-account-in-another-currency"><span>Sending funds to an account in another currency</span></a></h2><p>For this use case, the Payer DFSP will specify the transfer with amount type <strong>SEND</strong> and define the transfer amount in the <strong>Payer&#39;s local currency</strong> (the source currency). An secondary use case example for this is a P2P remittance transfer.</p><h3 id="simplified-send-money-diagram" tabindex="-1"><a class="header-anchor" href="#simplified-send-money-diagram"><span>Simplified Send Money Diagram</span></a></h3><p>Below is a simplified sequence diagram showing the flows between the Participant organizations, the foreign exchange providers and the Mojaloop switch.</p><p><img src="/system-integrator-toolkit/assets/Payer_SEND-BBnHOct_.svg" alt="&quot;Payer Conversion SEND&quot;"></p><h3 id="detailed-send-money-diagram" tabindex="-1"><a class="header-anchor" href="#detailed-send-money-diagram"><span>Detailed Send Money Diagram</span></a></h3><p>Below is a detailed sequence diagram that shows the complete flow, and includes the <strong>Mojaloop Connector</strong> and integration APIs for all participant organizations. (This is a useful view if you are building integrations as a participant organization.)</p><p><img src="/system-integrator-toolkit/assets/FXAPI_POC_payer_conversion_SEND-9Yy3GJHj.svg" alt="&quot;Payer Conversion SEND&quot;"></p><div style="page-break-after:always;"></div><h2 id="making-a-payment-in-another-currency" tabindex="-1"><a class="header-anchor" href="#making-a-payment-in-another-currency"><span>Making a payment in another currency</span></a></h2><p>For this use case, the Payer DFSP will specify the transfer with amount type <strong>RECEIVE</strong> and define the transfer amount in the <strong>Payee&#39;s local currency</strong> (the target currency). An secondary use case example for this is a cross boarder Merchant Payment.</p><p>Below is a detailed sequence diagram that shows the complete flow, and includes the Mojaloop connector and integration APIs for all participant organizations.</p><p><img src="/system-integrator-toolkit/assets/FXAPI_POC_payer_conversion_RECEIVE-3253R_Wi.svg" alt="&quot;Payer Conversion RECEIVE&quot;"></p><div style="page-break-after:always;"></div><h2 id="abort-flows" tabindex="-1"><a class="header-anchor" href="#abort-flows"><span>Abort flows</span></a></h2><p>This sequence diagram show how the design implements abort messages. <img src="/system-integrator-toolkit/assets/Payer_SEND_ABORT-tLgO5_AK.svg" alt="&quot;Abort messages&quot;"></p><h2 id="open-api-references" tabindex="-1"><a class="header-anchor" href="#open-api-references"><span>Open API References</span></a></h2><p>These Open API references are designed to be readable for both software an review person. The show the detailed requirements and implementations of the API design.</p><ul><li><a href="https://github.com/mojaloop/mojaloop-specification/blob/master/fspiop-api/documents/v2.0-document-set/fspiop-v2.0-openapi3-implementation-draft.yaml" target="_blank" rel="noopener noreferrer">FSPIOP specification Open Api definition</a>.</li><li><a href="https://github.com/mojaloop/api-snippets/blob/main/docs/fspiop-rest-v2.0-openapi3-snippets.yaml" target="_blank" rel="noopener noreferrer">API Snippets Open Api definition</a></li><li><a href="https://github.com/mojaloop/api-snippets/blob/main/docs/sdk-scheme-adapter-backend-v2_1_0-openapi3-snippets.yaml" target="_blank" rel="noopener noreferrer">Mojaloop Connector backend Open Api definition</a></li><li><a href="https://github.com/mojaloop/api-snippets/blob/main/docs/sdk-scheme-adapter-outbound-v2_1_0-openapi3-snippets.yaml" target="_blank" rel="noopener noreferrer">Mojaloop Connector outbound Open Api definition</a></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: paul.gregory.baker@gmail.com">PaulGregoryBaker</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/system-integrator-toolkit/assets/app-B4RDuWFj.js" defer></script>
  </body>
</html>
